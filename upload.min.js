webpackJsonp([7],{313:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var i=t(743),r=n(i),a=t(683),o=n(a);exports["default"]=angular.module("upload",[r["default"].name]).component("upload",o["default"])},465:function(e,exports){"use strict";function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.filename||e.name,size:e.size,type:e.type,uid:e.uid||r(),response:e.response,error:e.error,percent:0,originFileObj:e,status:null,url:e.url}}function r(){return parseInt(1e5*Math.random())}Object.defineProperty(exports,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(){function e(t,r){"ngInject";var a=this;n(this,e);var o=["text","picture"];if(this.Upload=t,this.name=this.name||"file",this.showUploadList=void 0===this.showUploadList||!0,this.multiple=!!this.multiple,this.withCredentials=!!this.withCredentials,this.listType=this.listType&&o.includes(this.listType)?this.listType:"text",!this.action)throw new Error("f-upload: `action` field is required");this.onChange=this.upload,this.defaultFileList=this.defaultFileList||[],this.fileList=this.fileList||[],this.defaultFileList.forEach(function(e){a.fileList.push(i(e))})}return e.$inject=["Upload","$timeout"],o(e,[{key:"upload",value:function(e,n,i,r,o,l){if(i&&i.length)for(var s=0;s<i.length;s++){var u=i[s],d={},f={},c={};if(u.$error)return alert(this.parseError(u)),!1;if(!u.$error){if(this.beforeUpload&&"function"==typeof this.beforeUpload&&!this.beforeUpload(i,this.fileList))return!1;if(this.data)switch(a(this.data)){case"object":f=this.data;break;case"function":d=this.data(u),"object"==("undefined"==typeof d?"undefined":a(d))&&(f=d)}c.url=this.action,c.data=Object.assign({},f,t({},this.name,u)),this.headers&&(c.headers=this.headers),c.withCredentials=this.withCredentials;var p;p=this.customRequest&&"function"==typeof this.customRequest?this.customRequest(c):this.Upload.upload(c),p.then(function(e){},null,function(e){var t=parseInt(100*e.loaded/e.total);console.log("progress: "+t+"% "+e.config.data.file.name)})}}}},{key:"parseError",value:function(e){switch(e.$error){case"minWidth":return"文件最小宽度为"+e.$errorParam;case"maxWidth":return"文件最大宽度为"+e.$errorParam;case"minHeight":return"文件最小高度为"+e.$errorParam;case"maxHeight":return"文件最大高度为"+e.$errorParam;case"minSize":return"文件最小为"+e.$errorParam;case"maxSize":return"文件最大为"+e.$errorParam;case"pattern":return"文件格式不符 "+e.$errorParam}}}]),e}();exports["default"]=l},512:function(e,exports,t){exports=e.exports=t(1)(),exports.push([e.i,"",""])},530:function(e,exports,t){exports=e.exports=t(1)(),exports.push([e.i,".f-upload {\n  font-size: 12px;\n  outline: 0;\n}\n.f-upload-btn {\n  display: block;\n  width: 100%;\n  outline: none;\n}\n.f-upload input[type=\"file\"] {\n  cursor: pointer;\n}\n.f-upload.f-upload-select {\n  display: inline-block;\n}\n.f-upload.f-upload-select-picture-card {\n  border: 1px dashed #d9d9d9;\n  width: 96px;\n  height: 96px;\n  border-radius: 4px;\n  background-color: #fbfbfb;\n  text-align: center;\n  cursor: pointer;\n  transition: border-color 0.3s ease;\n  display: inline-block;\n  vertical-align: top;\n  margin-right: 8px;\n  margin-bottom: 8px;\n}\n.f-upload.f-upload-select-picture-card > .f-upload {\n  display: block;\n  width: 100%;\n  height: 100%;\n  padding: 20px 0;\n}\n.f-upload.f-upload-select-picture-card:hover {\n  border-color: #108ee9;\n}\n.f-upload.f-upload-drag {\n  border: 1px dashed #d9d9d9;\n  transition: border-color 0.3s ease;\n  cursor: pointer;\n  border-radius: 4px;\n  text-align: center;\n  width: 100%;\n  height: 100%;\n  position: relative;\n}\n.f-upload.f-upload-drag.f-upload-drag-hover:not(.f-upload-disabled) {\n  border: 2px dashed #40a5ed;\n}\n.f-upload.f-upload-drag.f-upload-disabled {\n  cursor: not-allowed;\n}\n.f-upload.f-upload-drag .f-upload-btn {\n  display: table;\n  height: 100%;\n}\n.f-upload.f-upload-drag .f-upload-drag-container {\n  display: table-cell;\n  vertical-align: middle;\n}\n.f-upload.f-upload-drag:not(.f-upload-disabled):hover {\n  border-color: #40a5ed;\n}\n.f-upload.f-upload-drag p.f-upload-drag-icon {\n  height: 60px;\n  margin-bottom: 24px;\n}\n.f-upload.f-upload-drag p.f-upload-drag-icon .anticon {\n  font-size: 80px;\n  margin-top: -5px;\n  color: #40a5ed;\n}\n.f-upload.f-upload-drag p.f-upload-text {\n  font-size: 14px;\n}\n.f-upload.f-upload-drag p.f-upload-hint {\n  font-size: 12px;\n  color: #999;\n}\n.f-upload.f-upload-drag .anticon-plus {\n  font-size: 30px;\n  transition: all 0.3s ease;\n  color: #ccc;\n}\n.f-upload.f-upload-drag .anticon-plus:hover {\n  color: #999;\n}\n.f-upload.f-upload-drag:hover .anticon-plus {\n  color: #999;\n}\n.f-upload-list {\n  overflow: hidden;\n}\n.f-upload-list-item {\n  overflow: hidden;\n  margin-top: 8px;\n  font-size: 12px;\n}\n.f-upload-list-item-info {\n  height: 22px;\n  line-height: 22px;\n  padding: 0 4px;\n  transition: background-color 0.3s ease;\n}\n.f-upload-list-item-info .glyphicon-paperclip {\n  margin-right: 4px;\n  font-size: 12px;\n  color: #999;\n}\n.f-upload-list-item-info .glyphicon-remove-circle {\n  display: inline-block;\n  font-size: 12px;\n  font-size: 10px \\9;\n  transform: scale(0.83333333) rotate(0deg);\n  /* IE6-IE8 */\n  -ms-filter: \"progid:DXImageTransform.Microsoft.Matrix(sizingMethod='auto expand', M11=1, M12=0, M21=0, M22=1)\";\n  zoom: 1;\n  transition: all 0.3s ease;\n  opacity: 0;\n  cursor: pointer;\n  float: right;\n  color: #999;\n  line-height: 22px;\n}\n:root .f-upload-list-item-info .glyphicon-remove-circle {\n  filter: none;\n}\n:root .f-upload-list-item-info .glyphicon-remove-circle {\n  font-size: 12px;\n}\n.f-upload-list-item-info .glyphicon-remove-circle:hover {\n  color: #666;\n}\n.f-upload-list-item:hover .f-upload-list-item-info {\n  background-color: #e7f4fd;\n}\n.f-upload-list-item:hover .glyphicon-remove-circle {\n  opacity: 1;\n}\n.f-upload-list-item-error,\n.f-upload-list-item-error .glyphicon-paperclip {\n  color: #f50;\n}\n.f-upload-list-item-error .anticon-cross {\n  opacity: 1;\n}\n.f-upload-list-item-progress {\n  padding: 0 8px 0 20px;\n  margin-top: -2px;\n  margin-bottom: 1px;\n  font-size: 12px;\n}\n.f-upload-list-item-progress .f-progress-line-inner {\n  vertical-align: middle;\n}\n.f-upload-list-picture .f-upload-list-item,\n.f-upload-list-picture-card .f-upload-list-item {\n  padding: 8px;\n  border-radius: 4px;\n  border: 1px solid #d9d9d9;\n  height: 66px;\n  position: relative;\n}\n.f-upload-list-picture .f-upload-list-item:hover,\n.f-upload-list-picture-card .f-upload-list-item:hover {\n  background: transparent;\n}\n.f-upload-list-picture .f-upload-list-item-info,\n.f-upload-list-picture-card .f-upload-list-item-info {\n  padding: 0;\n}\n.f-upload-list-picture .f-upload-list-item:hover .f-upload-list-item-info,\n.f-upload-list-picture-card .f-upload-list-item:hover .f-upload-list-item-info {\n  background: transparent;\n}\n.f-upload-list-picture .f-upload-list-item-uploading,\n.f-upload-list-picture-card .f-upload-list-item-uploading {\n  border-style: dashed;\n}\n.f-upload-list-picture .f-upload-list-item-thumbnail,\n.f-upload-list-picture-card .f-upload-list-item-thumbnail {\n  width: 48px;\n  height: 48px;\n  position: absolute;\n  top: 8px;\n  left: 8px;\n}\n.f-upload-list-picture .f-upload-list-item-thumbnail img,\n.f-upload-list-picture-card .f-upload-list-item-thumbnail img {\n  width: 48px;\n  height: 48px;\n  display: block;\n  overflow: hidden;\n  border-radius: 2px;\n}\n.f-upload-list-picture .f-upload-list-item-thumbnail.anticon:before,\n.f-upload-list-picture-card .f-upload-list-item-thumbnail.anticon:before {\n  line-height: 48px;\n  font-size: 24px;\n  color: #999;\n}\n.f-upload-list-picture .f-upload-list-item-name,\n.f-upload-list-picture-card .f-upload-list-item-name {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  margin: 0 0 0 8px;\n  line-height: 44px;\n  transition: all 0.3s ease;\n  padding-left: 48px;\n  padding-right: 8px;\n  max-width: 100%;\n  display: inline-block;\n  box-sizing: border-box;\n}\n.f-upload-list-picture .f-upload-list-item-uploading .f-upload-list-item-name,\n.f-upload-list-picture-card .f-upload-list-item-uploading .f-upload-list-item-name {\n  line-height: 28px;\n}\n.f-upload-list-picture .f-upload-list-item-progress,\n.f-upload-list-picture-card .f-upload-list-item-progress {\n  padding-left: 56px;\n  margin-top: 0;\n}\n.f-upload-list-picture .anticon-cross,\n.f-upload-list-picture-card .anticon-cross {\n  position: absolute;\n  right: 8px;\n  top: 8px;\n  line-height: 1;\n}\n.f-upload-list-picture-card {\n  display: inline;\n}\n.f-upload-list-picture-card .f-upload-list-item {\n  display: inline-block;\n  width: 96px;\n  height: 96px;\n  margin: 0 8px 8px 0;\n}\n.f-upload-list-picture-card .f-upload-list-item-info {\n  height: 100%;\n  position: relative;\n}\n.f-upload-list-picture-card .f-upload-list-item-info:before {\n  content: ' ';\n  position: absolute;\n  z-index: 1;\n  background-color: #808080;\n  transition: all 0.3s ease;\n  opacity: 0;\n  width: 100%;\n  height: 100%;\n}\n.f-upload-list-picture-card .f-upload-list-item-info .anticon-eye-o,\n.f-upload-list-picture-card .f-upload-list-item-info .anticon-delete {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  z-index: 10;\n  -webkit-transition: all 0.3s ease;\n  transition: all 0.3s ease;\n  cursor: pointer;\n  font-size: 16px;\n  width: 16px;\n  line-height: 1;\n  color: #eee;\n  opacity: 0;\n  margin-top: -8px;\n  margin-left: -22px;\n}\n.f-upload-list-picture-card .f-upload-list-item-info .anticon-eye-o:hover,\n.f-upload-list-picture-card .f-upload-list-item-info .anticon-delete:hover {\n  color: #fff;\n}\n.f-upload-list-picture-card .f-upload-list-item-info .anticon-delete {\n  left: 50%;\n  margin-left: 6px;\n}\n.f-upload-list-picture-card .f-upload-list-item-info:hover:before {\n  opacity: .8;\n}\n.f-upload-list-picture-card .f-upload-list-item-info:hover .anticon-eye-o,\n.f-upload-list-picture-card .f-upload-list-item-info:hover .anticon-delete {\n  opacity: 1;\n}\n.f-upload-list-picture-card .f-upload-list-item-thumbnail,\n.f-upload-list-picture-card .f-upload-list-item-thumbnail img {\n  display: block;\n  width: 100%;\n  height: 100%;\n  position: static;\n}\n.f-upload-list-picture-card .f-upload-list-item-name {\n  display: none;\n}\n.f-upload-list-picture-card .f-upload-list-item-uploading.f-upload-list-item {\n  background-color: #fbfbfb;\n}\n.f-upload-list-picture-card .f-upload-list-item-uploading .f-upload-list-item-info {\n  height: auto;\n}\n.f-upload-list-picture-card .f-upload-list-item-uploading .f-upload-list-item-info:before,\n.f-upload-list-picture-card .f-upload-list-item-uploading .f-upload-list-item-info .anticon-eye-o,\n.f-upload-list-picture-card .f-upload-list-item-uploading .f-upload-list-item-info .anticon-delete {\n  display: none;\n}\n.f-upload-list-picture-card .f-upload-list-item-uploading-text {\n  margin-top: 18px;\n  color: #999;\n}\n.f-upload-list-picture-card .f-upload-list-item-progress {\n  padding-left: 0;\n}\n.f-upload-list .f-upload-success-icon {\n  color: #87d068;\n  font-weight: bold;\n}\n.f-upload-list .f-upload-margin-top-enter {\n  animation: uploadMarginTopIn 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86);\n}\n.f-upload-list .f-upload-margin-top-leave {\n  animation: uploadMarginTopOut 0.3s cubic-bezier(0.78, 0.14, 0.15, 0.86);\n}\n@keyframes uploadMarginTopIn {\n  from {\n    margin-top: -25px;\n    opacity: 0;\n  }\n}\n@keyframes uploadMarginTopOut {\n  to {\n    margin-top: -25px;\n    opacity: 0;\n  }\n}\n.f-dragger {\n  border: 1px dashed #d9d9d9;\n  -webkit-transition: border-color 0.3s ease;\n  transition: border-color 0.3s ease;\n  cursor: pointer;\n  border-radius: 4px;\n  text-align: center;\n  position: relative;\n  display: inline-block;\n}\n",""])},683:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var i=t(782),r=n(i),a=t(684),o=n(a);t(838),exports["default"]={restrict:"E",bindings:{},template:r["default"],controller:o["default"],controllerAs:"vm"}},684:function(e,exports){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var n=function i(e){"ngInject";t(this,i),this.$state=e,this.name="upload",this.accept={size:{min:10,max:"20MB"},width:{min:1e3,max:1e4},height:{min:100,max:300},pattern:"image/*"},this.defaultFileList=[{url:"http://www.fancyui.org/img-a04b6a41f26906e5c8732586d2d1261b.png",name:"test.png"}],this.onRemove=function(){alert("remove called")},this.fileList1=[],this.fileList2=[],this.fileList3=[],this.fileList4=[]};n.$inject=["$state"],exports["default"]=n},742:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var i=t(800),r=n(i),a=t(465),o=n(a),l={restrict:"E",bindings:{name:"@",defaultFileList:"<",fileList:"=",action:"@",data:"<",headers:"<",showUploadList:"<",multiple:"<",accept:"@",beforeUpload:"<",customRequest:"<",onChange:"<",listType:"@",onPreview:"<",onRemove:"<",disabled:"<",withCredentials:"<"},transclude:!0,template:r["default"],controller:o["default"],controllerAs:"vm"};exports["default"]=l},743:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0}),t(746);var i=t(744),r=n(i),a=t(742),o=n(a),l=angular.module("f-upload",["ngFileUpload"]).component("fUpload",r["default"]).component("fDragger",o["default"]);exports["default"]=l},744:function(e,exports,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var i=t(801),r=n(i),a=t(465),o=n(a);t(856);var l={restrict:"E",bindings:{name:"@",defaultFileList:"<",fileList:"=",action:"@",data:"<",headers:"<",multiple:"<",accept:"<",beforeUpload:"<",customRequest:"<",listType:"@",onRemove:"<",disabled:"<",withCredentials:"<"},transclude:!0,template:r["default"],controller:o["default"],controllerAs:"vm"};exports["default"]=l},745:function(e,exports,t){(function(jQuery){/**!
 * AngularJS file upload directives and services. Supports: file upload/drop/paste, resume, cancel/abort,
 * progress, resize, thumbnail, preview, validation and CORS
 * FileAPI Flash shim for old browsers not supporting FormData
 * @author  Danial  <danial.farid@gmail.com>
 * @version 12.2.13
 */
!function(){function e(e,t){window.XMLHttpRequest.prototype[e]=t(window.XMLHttpRequest.prototype[e])}function t(e,t,n){try{Object.defineProperty(e,t,{get:n})}catch(i){}}if(window.FileAPI||(window.FileAPI={}),!window.XMLHttpRequest)throw"AJAX is not supported. XMLHttpRequest is not defined.";if(FileAPI.shouldLoad=!window.FormData||FileAPI.forceLoad,FileAPI.shouldLoad){var n=function(e){if(!e.__listeners){e.upload||(e.upload={}),e.__listeners=[];var t=e.upload.addEventListener;e.upload.addEventListener=function(n,i){e.__listeners[n]=i,t&&t.apply(this,arguments)}}};e("open",function(e){return function(t,i,r){n(this),this.__url=i;try{e.apply(this,[t,i,r])}catch(a){a.message.indexOf("Access is denied")>-1&&(this.__origError=a,e.apply(this,[t,"_fix_for_ie_crossdomain__",r]))}}}),e("getResponseHeader",function(e){return function(t){return this.__fileApiXHR&&this.__fileApiXHR.getResponseHeader?this.__fileApiXHR.getResponseHeader(t):null==e?null:e.apply(this,[t])}}),e("getAllResponseHeaders",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.getAllResponseHeaders?this.__fileApiXHR.getAllResponseHeaders():null==e?null:e.apply(this)}}),e("abort",function(e){return function(){return this.__fileApiXHR&&this.__fileApiXHR.abort?this.__fileApiXHR.abort():null==e?null:e.apply(this)}}),e("setRequestHeader",function(e){return function(t,i){if("__setXHR_"===t){n(this);var r=i(this);r instanceof Function&&r(this)}else this.__requestHeaders=this.__requestHeaders||{},this.__requestHeaders[t]=i,e.apply(this,arguments)}}),e("send",function(e){return function(){var n=this;if(arguments[0]&&arguments[0].__isFileAPIShim){var i=arguments[0],r={url:n.__url,jsonp:!1,cache:!0,complete:function(e,i){e&&angular.isString(e)&&e.indexOf("#2174")!==-1&&(e=null),n.__completed=!0,!e&&n.__listeners.load&&n.__listeners.load({type:"load",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),!e&&n.__listeners.loadend&&n.__listeners.loadend({type:"loadend",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),"abort"===e&&n.__listeners.abort&&n.__listeners.abort({type:"abort",loaded:n.__loaded,total:n.__total,target:n,lengthComputable:!0}),void 0!==i.status&&t(n,"status",function(){return 0===i.status&&e&&"abort"!==e?500:i.status}),void 0!==i.statusText&&t(n,"statusText",function(){return i.statusText}),t(n,"readyState",function(){return 4}),void 0!==i.response&&t(n,"response",function(){return i.response});var r=i.responseText||(e&&0===i.status&&"abort"!==e?e:void 0);t(n,"responseText",function(){return r}),t(n,"response",function(){return r}),e&&t(n,"err",function(){return e}),n.__fileApiXHR=i,n.onreadystatechange&&n.onreadystatechange(),n.onload&&n.onload()},progress:function(e){if(e.target=n,n.__listeners.progress&&n.__listeners.progress(e),n.__total=e.total,n.__loaded=e.loaded,e.total===e.loaded){var t=this;setTimeout(function(){n.__completed||(n.getAllResponseHeaders=function(){},t.complete(null,{status:204,statusText:"No Content"}))},FileAPI.noContentTimeout||1e4)}},headers:n.__requestHeaders};r.data={},r.files={};for(var a=0;a<i.data.length;a++){var o=i.data[a];null!=o.val&&null!=o.val.name&&null!=o.val.size&&null!=o.val.type?r.files[o.key]=o.val:r.data[o.key]=o.val}setTimeout(function(){if(!FileAPI.hasFlash)throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';n.__fileApiXHR=FileAPI.upload(r)},1)}else{if(this.__origError)throw this.__origError;e.apply(n,arguments)}}}),window.XMLHttpRequest.__isFileAPIShim=!0,window.FormData=FormData=function(){return{append:function(e,t,n){t.__isFileAPIBlobShim&&(t=t.data[0]),this.data.push({key:e,val:t,name:n})},data:[],__isFileAPIShim:!0}},window.Blob=Blob=function(e){return{data:e,__isFileAPIBlobShim:!0}}}}(),function(){function e(e){return"input"===e[0].tagName.toLowerCase()&&e.attr("type")&&"file"===e.attr("type").toLowerCase()}function t(){try{var e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(e)return!0}catch(t){if(void 0!==navigator.mimeTypes["application/x-shockwave-flash"])return!0}return!1}function n(e){var t=0,n=0;if(window.jQuery)return jQuery(e).offset();if(e.offsetParent)do t+=e.offsetLeft-e.scrollLeft,n+=e.offsetTop-e.scrollTop,e=e.offsetParent;while(e);return{left:t,top:n}}if(FileAPI.shouldLoad){if(FileAPI.hasFlash=t(),FileAPI.forceLoad&&(FileAPI.html5=!1),!FileAPI.upload){var i,r,a,o,l,s=document.createElement("script"),u=document.getElementsByTagName("script");if(window.FileAPI.jsUrl)i=window.FileAPI.jsUrl;else if(window.FileAPI.jsPath)r=window.FileAPI.jsPath;else for(a=0;a<u.length;a++)if(l=u[a].src,o=l.search(/\/ng\-file\-upload[\-a-zA-z0-9\.]*\.js/),o>-1){r=l.substring(0,o+1);break}null==FileAPI.staticPath&&(FileAPI.staticPath=r),s.setAttribute("src",i||r+"FileAPI.min.js"),document.getElementsByTagName("head")[0].appendChild(s)}FileAPI.ngfFixIE=function(i,r,a){if(!t())throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"';var o=function(){var t=r.parent();i.attr("disabled")?t&&t.removeClass("js-fileapi-wrapper"):(r.attr("__ngf_flash_")||(r.unbind("change"),r.unbind("click"),r.bind("change",function(e){l.apply(this,[e]),a.apply(this,[e])}),r.attr("__ngf_flash_","true")),t.addClass("js-fileapi-wrapper"),e(i)||(t.css("position","absolute").css("top",n(i[0]).top+"px").css("left",n(i[0]).left+"px").css("width",i[0].offsetWidth+"px").css("height",i[0].offsetHeight+"px").css("filter","alpha(opacity=0)").css("display",i.css("display")).css("overflow","hidden").css("z-index","900000").css("visibility","visible"),r.css("width",i[0].offsetWidth+"px").css("height",i[0].offsetHeight+"px").css("position","absolute").css("top","0px").css("left","0px")))};i.bind("mouseenter",o);var l=function(e){for(var t=FileAPI.getFiles(e),n=0;n<t.length;n++)void 0===t[n].size&&(t[n].size=0),void 0===t[n].name&&(t[n].name="file"),void 0===t[n].type&&(t[n].type="undefined");e.target||(e.target={}),e.target.files=t,e.target.files!==t&&(e.__files_=t),(e.__files_||e.target.files).item=function(t){return(e.__files_||e.target.files)[t]||null}}},FileAPI.disableFileInput=function(e,t){t?e.removeClass("js-fileapi-wrapper"):e.addClass("js-fileapi-wrapper")}}}(),window.FileReader||(window.FileReader=function(){var e=this,t=!1;this.listeners={},this.addEventListener=function(t,n){e.listeners[t]=e.listeners[t]||[],e.listeners[t].push(n)},this.removeEventListener=function(t,n){e.listeners[t]&&e.listeners[t].splice(e.listeners[t].indexOf(n),1)},this.dispatchEvent=function(t){var n=e.listeners[t.type];if(n)for(var i=0;i<n.length;i++)n[i].call(e,t)},this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;var n=function(t,n){var i={type:t,target:e,loaded:n.loaded,total:n.total,error:n.error};return null!=n.result&&(i.target.result=n.result),i},i=function(i){t||(t=!0,e.onloadstart&&e.onloadstart(n("loadstart",i)));var r;"load"===i.type?(e.onloadend&&e.onloadend(n("loadend",i)),r=n("load",i),e.onload&&e.onload(r),e.dispatchEvent(r)):"progress"===i.type?(r=n("progress",i),e.onprogress&&e.onprogress(r),e.dispatchEvent(r)):(r=n("error",i),e.onerror&&e.onerror(r),e.dispatchEvent(r))};this.readAsDataURL=function(e){FileAPI.readAsDataURL(e,i)},this.readAsText=function(e){FileAPI.readAsText(e,i)}}),/**!
 * AngularJS file upload directives and services. Supoorts: file upload/drop/paste, resume, cancel/abort,
 * progress, resize, thumbnail, preview, validation and CORS
 * @author  Danial  <danial.farid@gmail.com>
 * @version 12.2.13
 */
!window.XMLHttpRequest||window.FileAPI&&FileAPI.shouldLoad||(window.XMLHttpRequest.prototype.setRequestHeader=function(e){return function(t,n){if("__setXHR_"===t){var i=n(this);i instanceof Function&&i(this)}else e.apply(this,arguments)}}(window.XMLHttpRequest.prototype.setRequestHeader));var e=angular.module("ngFileUpload",[]);e.version="12.2.13",e.service("UploadBase",["$http","$q","$timeout",function(t,n,i){function r(e){function r(e){u.notify&&u.notify(e),d.progressFunc&&i(function(){d.progressFunc(e)})}function a(t){return null!=e._start&&l?{loaded:t.loaded+e._start,total:e._file&&e._file.size||t.total,type:t.type,config:e,lengthComputable:!0,target:t.target}:t}function s(){t(e).then(function(t){if(l&&e._chunkSize&&!e._finished&&e._file){var n=e._file&&e._file.size||0;r({loaded:Math.min(e._end,n),total:n,config:e,type:"progress"}),o.upload(e,!0)}else e._finished&&delete e._finished,u.resolve(t)},function(e){u.reject(e)},function(e){u.notify(e)})}e.method=e.method||"POST",e.headers=e.headers||{};var u=e._deferred=e._deferred||n.defer(),d=u.promise;return e.disableProgress||(e.headers.__setXHR_=function(){return function(t){t&&t.upload&&t.upload.addEventListener&&(e.__XHR=t,e.xhrFn&&e.xhrFn(t),t.upload.addEventListener("progress",function(t){t.config=e,r(a(t))},!1),t.upload.addEventListener("load",function(t){t.lengthComputable&&(t.config=e,r(a(t)))},!1))}}),l?e._chunkSize&&e._end&&!e._finished?(e._start=e._end,e._end+=e._chunkSize,s()):e.resumeSizeUrl?t.get(e.resumeSizeUrl).then(function(t){e.resumeSizeResponseReader?e._start=e.resumeSizeResponseReader(t.data):e._start=parseInt((null==t.data.size?t.data:t.data.size).toString()),e._chunkSize&&(e._end=e._start+e._chunkSize),s()},function(e){throw e}):e.resumeSize?e.resumeSize().then(function(t){e._start=t,e._chunkSize&&(e._end=e._start+e._chunkSize),s()},function(e){throw e}):(e._chunkSize&&(e._start=0,e._end=e._start+e._chunkSize),s()):s(),d.success=function(t){return d.then(function(n){t(n.data,n.status,n.headers,e)}),d},d.error=function(t){return d.then(null,function(n){t(n.data,n.status,n.headers,e)}),d},d.progress=function(e){return d.progressFunc=e,d.then(null,null,function(t){e(t)}),d},d.abort=d.pause=function(){return e.__XHR&&i(function(){e.__XHR.abort()}),d},d.xhr=function(t){return e.xhrFn=function(e){return function(){e&&e.apply(d,arguments),t.apply(d,arguments)}}(e.xhrFn),d},o.promisesCount++,d["finally"]&&d["finally"]instanceof Function&&d["finally"](function(){o.promisesCount--}),d}function a(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var o=this;o.promisesCount=0,this.isResumeSupported=function(){return window.Blob&&window.Blob.prototype.slice};var l=this.isResumeSupported();this.isUploadInProgress=function(){return o.promisesCount>0},this.rename=function(e,t){return e.ngfName=t,e},this.jsonBlob=function(e){null==e||angular.isString(e)||(e=JSON.stringify(e));var t=new window.Blob([e],{type:"application/json"});return t._ngfBlob=!0,t},this.json=function(e){return angular.toJson(e)},this.isFile=function(e){return null!=e&&(e instanceof window.Blob||e.flashId&&e.name&&e.size)},this.upload=function(e,t){function n(t,n){if(t._ngfBlob)return t;if(e._file=e._file||t,null!=e._start&&l){e._end&&e._end>=t.size&&(e._finished=!0,e._end=t.size);var i=t.slice(e._start,e._end||t.size);return i.name=t.name,i.ngfName=t.ngfName,e._chunkSize&&(n.append("_chunkSize",e._chunkSize),n.append("_currentChunkSize",e._end-e._start),n.append("_chunkNumber",Math.floor(e._start/e._chunkSize)),n.append("_totalSize",e._file.size)),i}return t}function i(t,r,a){if(void 0!==r)if(angular.isDate(r)&&(r=r.toISOString()),angular.isString(r))t.append(a,r);else if(o.isFile(r)){var l=n(r,t),s=a.split(",");s[1]&&(l.ngfName=s[1].replace(/^\s+|\s+$/g,""),a=s[0]),e._fileKey=e._fileKey||a,t.append(a,l,l.ngfName||l.name)}else if(angular.isObject(r)){if(r.$$ngfCircularDetection)throw"ngFileUpload: Circular reference in config.data. Make sure specified data for Upload.upload() has no circular reference: "+a;r.$$ngfCircularDetection=!0;try{for(var u in r)if(r.hasOwnProperty(u)&&"$$ngfCircularDetection"!==u){var d=null==e.objectKey?"[i]":e.objectKey;r.length&&parseInt(u)>-1&&(d=null==e.arrayKey?d:e.arrayKey),i(t,r[u],a+d.replace(/[ik]/g,u))}}finally{delete r.$$ngfCircularDetection}}else t.append(a,r)}function s(){e._chunkSize=o.translateScalars(e.resumeChunkSize),e._chunkSize=e._chunkSize?parseInt(e._chunkSize.toString()):null,e.headers=e.headers||{},e.headers["Content-Type"]=void 0,e.transformRequest=e.transformRequest?angular.isArray(e.transformRequest)?e.transformRequest:[e.transformRequest]:[],e.transformRequest.push(function(t){var n,r=new window.FormData;t=t||e.fields||{},e.file&&(t.file=e.file);for(n in t)if(t.hasOwnProperty(n)){var a=t[n];e.formDataAppender?e.formDataAppender(r,n,a):i(r,a,n)}return r})}return t||(e=a(e)),e._isDigested||(e._isDigested=!0,s()),r(e)},this.http=function(e){return e=a(e),e.transformRequest=e.transformRequest||function(e){return window.ArrayBuffer&&e instanceof window.ArrayBuffer||e instanceof window.Blob?e:t.defaults.transformRequest[0].apply(this,arguments)},e._chunkSize=o.translateScalars(e.resumeChunkSize),e._chunkSize=e._chunkSize?parseInt(e._chunkSize.toString()):null,r(e)},this.translateScalars=function(e){if(angular.isString(e)){if(e.search(/kb/i)===e.length-2)return parseFloat(1024*e.substring(0,e.length-2));if(e.search(/mb/i)===e.length-2)return parseFloat(1048576*e.substring(0,e.length-2));if(e.search(/gb/i)===e.length-2)return parseFloat(1073741824*e.substring(0,e.length-2));if(e.search(/b/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/s/i)===e.length-1)return parseFloat(e.substring(0,e.length-1));if(e.search(/m/i)===e.length-1)return parseFloat(60*e.substring(0,e.length-1));if(e.search(/h/i)===e.length-1)return parseFloat(3600*e.substring(0,e.length-1))}return e},this.urlToBlob=function(e){var i=n.defer();return t({url:e,method:"get",responseType:"arraybuffer"}).then(function(t){var n=new Uint8Array(t.data),r=t.headers("content-type")||"image/WebP",a=new window.Blob([n],{type:r}),o=e.match(/.*\/(.+?)(\?.*)?$/);o.length>1&&(a.name=o[1]),i.resolve(a)},function(e){i.reject(e)}),i.promise},this.setDefaults=function(e){this.defaults=e||{}},this.defaults={},this.version=e.version}]),e.service("Upload",["$parse","$timeout","$compile","$q","UploadExif",function(e,t,n,i,r){function a(e,t,n){var r=[s.emptyPromise()];return angular.forEach(e,function(i,a){0===i.type.indexOf("image/jpeg")&&s.attrGetter("ngfFixOrientation",t,n,{$file:i})&&r.push(s.happyPromise(s.applyExifRotation(i),i).then(function(t){e.splice(a,1,t)}))}),i.all(r)}function o(e,t,n,r){var a=s.attrGetter("ngfResize",t,n);if(!a||!s.isResizeSupported()||!e.length)return s.emptyPromise();if(a instanceof Function){var o=i.defer();return a(e).then(function(i){l(i,e,t,n,r).then(function(e){o.resolve(e)},function(e){o.reject(e)})},function(e){o.reject(e)})}return l(a,e,t,n,r)}function l(e,t,n,r,a){function o(i,o){if(0===i.type.indexOf("image")){if(e.pattern&&!s.validatePattern(i,e.pattern))return;e.resizeIf=function(e,t){return s.attrGetter("ngfResizeIf",n,r,{$width:e,$height:t,$file:i})};var u=s.resize(i,e);l.push(u),u.then(function(e){t.splice(o,1,e)},function(e){i.$error="resize",(i.$errorMessages=i.$errorMessages||{}).resize=!0,i.$errorParam=(e?(e.message?e.message:e)+": ":"")+(i&&i.name),a.$ngfValidations.push({name:"resize",valid:!1}),s.applyModelValidation(a,t)})}}for(var l=[s.emptyPromise()],u=0;u<t.length;u++)o(t[u],u);return i.all(l)}var s=r;return s.getAttrWithDefaults=function(e,t){if(null!=e[t])return e[t];var n=s.defaults[t];return null==n?n:angular.isString(n)?n:JSON.stringify(n)},s.attrGetter=function(t,n,i,r){var a=this.getAttrWithDefaults(n,t);if(!i)return a;try{return r?e(a)(i,r):e(a)(i)}catch(o){if(t.search(/min|max|pattern/i))return a;throw o}},s.shouldUpdateOn=function(e,t,n){var i=s.attrGetter("ngfModelOptions",t,n);return!i||!i.updateOn||i.updateOn.split(" ").indexOf(e)>-1},s.emptyPromise=function(){var e=i.defer(),n=arguments;return t(function(){e.resolve.apply(e,n)}),e.promise},s.rejectPromise=function(){var e=i.defer(),n=arguments;return t(function(){e.reject.apply(e,n)}),e.promise},s.happyPromise=function(e,n){var r=i.defer();return e.then(function(e){r.resolve(e)},function(e){t(function(){throw e}),r.resolve(n)}),r.promise},s.updateModel=function(n,i,r,l,u,d,f){function c(a,o,u,f,c){i.$$ngfPrevValidFiles=a,i.$$ngfPrevInvalidFiles=o;var p=a&&a.length?a[0]:null,h=o&&o.length?o[0]:null;n&&(s.applyModelValidation(n,a),n.$setViewValue(c?p:a)),l&&e(l)(r,{$files:a,$file:p,$newFiles:u,$duplicateFiles:f,$invalidFiles:o,$invalidFile:h,$event:d});var g=s.attrGetter("ngfModelInvalid",i);g&&t(function(){e(g).assign(r,c?h:o)}),t(function(){})}function p(){function e(e,t){return e.name===t.name&&(e.$ngfOrigSize||e.size)===(t.$ngfOrigSize||t.size)&&e.type===t.type}function t(t){var n;for(n=0;n<v.length;n++)if(e(t,v[n]))return!0;for(n=0;n<b.length;n++)if(e(t,b[n]))return!0;return!1}if(u){m=[],y=[];for(var n=0;n<u.length;n++)t(u[n])?y.push(u[n]):m.push(u[n])}}function h(e){return angular.isArray(e)?e:[e]}function g(){function e(){t(function(){c(w?v.concat(_):_,w?b.concat(x):x,u,y,A)},F&&F.debounce?F.debounce.change||F.debounce:0)}var a=U?m:_;o(a,i,r,n).then(function(){U?s.validate(m,w?v.length:0,n,i,r).then(function(t){_=t.validsFiles,x=t.invalidsFiles,e()}):e()},function(){for(var t=0;t<a.length;t++){var n=a[t];if("resize"===n.$error){var i=_.indexOf(n);i>-1&&(_.splice(i,1),x.push(n)),e()}}})}var m,v,b,y=[],x=[],_=[];v=i.$$ngfPrevValidFiles||[],b=i.$$ngfPrevInvalidFiles||[],n&&n.$modelValue&&(v=h(n.$modelValue));var w=s.attrGetter("ngfKeep",i,r);m=(u||[]).slice(0),"distinct"!==w&&s.attrGetter("ngfKeepDistinct",i,r)!==!0||p(i,r);var A=!w&&!s.attrGetter("ngfMultiple",i,r)&&!s.attrGetter("multiple",i);if(!w||m.length){s.attrGetter("ngfBeforeModelChange",i,r,{$files:u,$file:u&&u.length?u[0]:null,$newFiles:m,$duplicateFiles:y,$event:d});var U=s.attrGetter("ngfValidateAfterResize",i,r),F=s.attrGetter("ngfModelOptions",i,r);s.validate(m,w?v.length:0,n,i,r).then(function(e){f?c(m,[],u,y,A):(F&&F.allowInvalid||U?_=m:(_=e.validFiles,x=e.invalidFiles),s.attrGetter("ngfFixOrientation",i,r)&&s.isExifSupported()?a(_,i,r).then(function(){g()}):g())})}},s}]),e.directive("ngfSelect",["$parse","$timeout","$compile","Upload",function(e,t,n,i){function r(e){var t=e.match(/Android[^\d]*(\d+)\.(\d+)/);if(t&&t.length>2){var n=i.defaults.androidFixMinorVersion||4;return parseInt(t[1])<4||parseInt(t[1])===n&&parseInt(t[2])<n}return e.indexOf("Chrome")===-1&&/.*Windows.*Safari.*/.test(e)}function a(e,t,n,i,a,l,s,u){function d(){return"input"===t[0].tagName.toLowerCase()&&n.type&&"file"===n.type.toLowerCase()}function f(){return y("ngfChange")||y("ngfSelect")}function c(t){if(u.shouldUpdateOn("change",n,e)){var r=t.__files_||t.target&&t.target.files,a=[];if(!r)return;for(var o=0;o<r.length;o++)a.push(r[o]);u.updateModel(i,n,e,f(),a.length?a:null,t)}}function p(e,i){function r(t){e.attr("id","ngf-"+t),i.attr("id","ngf-label-"+t)}for(var a=0;a<t[0].attributes.length;a++){var o=t[0].attributes[a];"type"!==o.name&&"class"!==o.name&&"style"!==o.name&&("id"===o.name?(r(o.value),x.push(n.$observe("id",r))):e.attr(o.name,o.value||"required"!==o.name&&"multiple"!==o.name?o.value:o.name))}}function h(){if(d())return t;var e=angular.element('<input type="file">'),n=angular.element("<label>upload</label>");return n.css("visibility","hidden").css("position","absolute").css("overflow","hidden").css("width","0px").css("height","0px").css("border","none").css("margin","0px").css("padding","0px").attr("tabindex","-1"),p(e,n),o.push({el:t,ref:n}),document.body.appendChild(n.append(e)[0]),e}function g(n){if(t.attr("disabled"))return!1;if(!y("ngfSelectDisabled",e)){var i=m(n);if(null!=i)return i;v(n);try{d()||document.body.contains(A[0])||(o.push({el:t,ref:A.parent()}),document.body.appendChild(A.parent()[0]),A.bind("change",c))}catch(a){}return r(navigator.userAgent)?setTimeout(function(){A[0].click()},0):A[0].click(),!1}}function m(e){var t=e.changedTouches||e.originalEvent&&e.originalEvent.changedTouches;if(t){if("touchstart"===e.type)return w=t[0].clientX,_=t[0].clientY,!0;if("touchend"===e.type){var n=t[0].clientX,i=t[0].clientY;if(Math.abs(n-w)>20||Math.abs(i-_)>20)return e.stopPropagation(),e.preventDefault(),!1}return!0}}function v(t){u.shouldUpdateOn("click",n,e)&&A.val()&&(A.val(null),u.updateModel(i,n,e,f(),null,t,!0))}function b(e){if(A&&!A.attr("__ngf_ie10_Fix_")){if(!A[0].parentNode)return void(A=null);e.preventDefault(),e.stopPropagation(),A.unbind("click");var t=A.clone();return A.replaceWith(t),A=t,A.attr("__ngf_ie10_Fix_","true"),A.bind("change",c),A.bind("click",b),A[0].click(),!1}A.removeAttr("__ngf_ie10_Fix_")}var y=function(e,t){return u.attrGetter(e,n,t)};u.registerModelChangeValidator(i,n,e);var x=[];y("ngfMultiple")&&x.push(e.$watch(y("ngfMultiple"),function(){A.attr("multiple",y("ngfMultiple",e))})),y("ngfCapture")&&x.push(e.$watch(y("ngfCapture"),function(){A.attr("capture",y("ngfCapture",e))})),y("ngfAccept")&&x.push(e.$watch(y("ngfAccept"),function(){A.attr("accept",y("ngfAccept",e))})),x.push(n.$observe("accept",function(){A.attr("accept",y("accept"))}));var _=0,w=0,A=t;d()||(A=h()),A.bind("change",c),d()?t.bind("click",v):t.bind("click touchstart touchend",g),navigator.appVersion.indexOf("MSIE 10")!==-1&&A.bind("click",b),i&&i.$formatters.push(function(e){return null!=e&&0!==e.length||A.val()&&A.val(null),e}),e.$on("$destroy",function(){d()||A.parent().remove(),angular.forEach(x,function(e){e()})}),l(function(){for(var e=0;e<o.length;e++){var t=o[e];document.body.contains(t.el[0])||(o.splice(e,1),t.ref.remove())}}),window.FileAPI&&window.FileAPI.ngfFixIE&&window.FileAPI.ngfFixIE(t,A,c)}var o=[];return{restrict:"AEC",require:"?ngModel",link:function(r,o,l,s){a(r,o,l,s,e,t,n,i)}}}]),function(){function t(e){return"img"===e.tagName.toLowerCase()?"image":"audio"===e.tagName.toLowerCase()?"audio":"video"===e.tagName.toLowerCase()?"video":/./}function n(e,n,i,r,a,o,l,s){function u(t){var o=e.attrGetter("ngfNoObjectUrl",a,i);e.dataUrl(t,o)["finally"](function(){n(function(){var e=(o?t.$ngfDataUrl:t.$ngfBlobUrl)||t.$ngfDataUrl;s?r.css("background-image","url('"+(e||"")+"')"):r.attr("src",e),e?r.removeClass("ng-hide"):r.addClass("ng-hide")})})}n(function(){var n=i.$watch(a[o],function(n){var d=l;if("ngfThumbnail"===o&&(d||(d={width:r[0].naturalWidth||r[0].clientWidth,height:r[0].naturalHeight||r[0].clientHeight}),0===d.width&&window.getComputedStyle)){var f=getComputedStyle(r[0]);f.width&&f.width.indexOf("px")>-1&&f.height&&f.height.indexOf("px")>-1&&(d={width:parseInt(f.width.slice(0,-2)),height:parseInt(f.height.slice(0,-2))})}return angular.isString(n)?(r.removeClass("ng-hide"),s?r.css("background-image","url('"+n+"')"):r.attr("src",n)):void(!n||!n.type||0!==n.type.search(t(r[0]))||s&&0!==n.type.indexOf("image")?r.addClass("ng-hide"):d&&e.isResizeSupported()?(d.resizeIf=function(t,r){return e.attrGetter("ngfResizeIf",a,i,{$width:t,$height:r,$file:n})},e.resize(n,d).then(function(e){u(e)},function(e){throw e})):u(n))});i.$on("$destroy",function(){n()})})}e.service("UploadDataUrl",["UploadBase","$timeout","$q",function(e,t,n){var i=e;return i.base64DataUrl=function(e){if(angular.isArray(e)){var t=n.defer(),r=0;return angular.forEach(e,function(n){i.dataUrl(n,!0)["finally"](function(){if(r++,r===e.length){var n=[];angular.forEach(e,function(e){n.push(e.$ngfDataUrl)}),t.resolve(n,e)}})}),t.promise}return i.dataUrl(e,!0)},i.dataUrl=function(e,r){if(!e)return i.emptyPromise(e,e);if(r&&null!=e.$ngfDataUrl||!r&&null!=e.$ngfBlobUrl)return i.emptyPromise(r?e.$ngfDataUrl:e.$ngfBlobUrl,e);var a=r?e.$$ngfDataUrlPromise:e.$$ngfBlobUrlPromise;if(a)return a;var o=n.defer();return t(function(){if(window.FileReader&&e&&(!window.FileAPI||navigator.userAgent.indexOf("MSIE 8")===-1||e.size<2e4)&&(!window.FileAPI||navigator.userAgent.indexOf("MSIE 9")===-1||e.size<4e6)){var n=window.URL||window.webkitURL;if(n&&n.createObjectURL&&!r){var a;try{a=n.createObjectURL(e)}catch(l){return void t(function(){e.$ngfBlobUrl="",o.reject()})}t(function(){if(e.$ngfBlobUrl=a,a){o.resolve(a,e),i.blobUrls=i.blobUrls||[],i.blobUrlsTotalSize=i.blobUrlsTotalSize||0,i.blobUrls.push({url:a,size:e.size}),i.blobUrlsTotalSize+=e.size||0;for(var t=i.defaults.blobUrlsMaxMemory||268435456,r=i.defaults.blobUrlsMaxQueueSize||200;(i.blobUrlsTotalSize>t||i.blobUrls.length>r)&&i.blobUrls.length>1;){var l=i.blobUrls.splice(0,1)[0];n.revokeObjectURL(l.url),i.blobUrlsTotalSize-=l.size}}})}else{var s=new FileReader;s.onload=function(n){t(function(){e.$ngfDataUrl=n.target.result,o.resolve(n.target.result,e),t(function(){delete e.$ngfDataUrl},1e3)})},s.onerror=function(){t(function(){e.$ngfDataUrl="",o.reject()})},s.readAsDataURL(e)}}else t(function(){e[r?"$ngfDataUrl":"$ngfBlobUrl"]="",o.reject()})}),a=r?e.$$ngfDataUrlPromise=o.promise:e.$$ngfBlobUrlPromise=o.promise,a["finally"](function(){delete e[r?"$$ngfDataUrlPromise":"$$ngfBlobUrlPromise"]}),a},i}]),e.directive("ngfSrc",["Upload","$timeout",function(e,t){return{restrict:"AE",link:function(i,r,a){n(e,t,i,r,a,"ngfSrc",e.attrGetter("ngfResize",a,i),!1)}}}]),e.directive("ngfBackground",["Upload","$timeout",function(e,t){return{restrict:"AE",link:function(i,r,a){n(e,t,i,r,a,"ngfBackground",e.attrGetter("ngfResize",a,i),!0)}}}]),e.directive("ngfThumbnail",["Upload","$timeout",function(e,t){return{restrict:"AE",link:function(i,r,a){var o=e.attrGetter("ngfSize",a,i);n(e,t,i,r,a,"ngfThumbnail",o,e.attrGetter("ngfAsBackground",a,i))}}}]),e.config(["$compileProvider",function(e){e.imgSrcSanitizationWhitelist&&e.imgSrcSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/),e.aHrefSanitizationWhitelist&&e.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|tel|webcal|local|file|data|blob):/)}]),e.filter("ngfDataUrl",["UploadDataUrl","$sce",function(e,t){return function(n,i,r){if(angular.isString(n))return t.trustAsResourceUrl(n);var a=n&&((i?n.$ngfDataUrl:n.$ngfBlobUrl)||n.$ngfDataUrl);return n&&!a?(!n.$ngfDataUrlFilterInProgress&&angular.isObject(n)&&(n.$ngfDataUrlFilterInProgress=!0,e.dataUrl(n,i)),""):(n&&delete n.$ngfDataUrlFilterInProgress,(n&&a?r?t.trustAsResourceUrl(a):a:n)||"")}}])}(),e.service("UploadValidate",["UploadDataUrl","$q","$timeout",function(e,t,n){function i(e){var t="",n=[];if(e.length>2&&"/"===e[0]&&"/"===e[e.length-1])t=e.substring(1,e.length-1);else{var r=e.split(",");if(r.length>1)for(var a=0;a<r.length;a++){var o=i(r[a]);o.regexp?(t+="("+o.regexp+")",a<r.length-1&&(t+="|")):n=n.concat(o.excludes)}else 0===e.indexOf("!")?n.push("^((?!"+i(e.substring(1)).regexp+").)*$"):(0===e.indexOf(".")&&(e="*"+e),t="^"+e.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",t=t.replace(/\\\*/g,".*").replace(/\\\?/g,"."))}return{regexp:t,excludes:n}}function r(e,t){null==t||e.$dirty||(e.$setDirty?e.$setDirty():e.$dirty=!0)}var a=e;return a.validatePattern=function(e,t){if(!t)return!0;var n=i(t),r=!0;if(n.regexp&&n.regexp.length){var a=new RegExp(n.regexp,"i");r=null!=e.type&&a.test(e.type)||null!=e.name&&a.test(e.name)}for(var o=n.excludes.length;o--;){var l=new RegExp(n.excludes[o],"i");r=r&&(null==e.type||l.test(e.type))&&(null==e.name||l.test(e.name))}return r},a.ratioToFloat=function(e){var t=e.toString(),n=t.search(/[x:]/i);return t=n>-1?parseFloat(t.substring(0,n))/parseFloat(t.substring(n+1)):parseFloat(t)},a.registerModelChangeValidator=function(e,t,n){e&&e.$formatters.push(function(i){if(e.$dirty){var r=i;i&&!angular.isArray(i)&&(r=[i]),a.validate(r,0,e,t,n).then(function(){a.applyModelValidation(e,r)})}return i})},a.applyModelValidation=function(e,t){r(e,t),angular.forEach(e.$ngfValidations,function(t){e.$setValidity(t.name,t.valid)})},a.getValidationAttr=function(e,t,n,i,r){var o="ngf"+n[0].toUpperCase()+n.substr(1),l=a.attrGetter(o,e,t,{$file:r});if(null==l&&(l=a.attrGetter("ngfValidate",e,t,{$file:r}))){var s=(i||n).split(".");l=l[s[0]],s.length>1&&(l=l&&l[s[1]])}return l},a.validate=function(e,n,i,r,o){function l(t,n,l){if(e){for(var s=e.length,u=null;s--;){var p=e[s];if(p){var h=a.getValidationAttr(r,o,t,n,p);null!=h&&(l(p,h,s)||(d.indexOf(t)===-1?(p.$error=t,(p.$errorMessages=p.$errorMessages||{})[t]=!0,p.$errorParam=h,c.indexOf(p)===-1&&c.push(p),f||e.splice(s,1),u=!1):e.splice(s,1)))}}null!==u&&i.$ngfValidations.push({name:t,valid:u})}}function s(n,l,s,p,h){function g(t,i,r){function a(a){if(a())if(d.indexOf(n)===-1){if(i.$error=n,(i.$errorMessages=i.$errorMessages||{})[n]=!0,i.$errorParam=r,c.indexOf(i)===-1&&c.push(i),!f){var o=e.indexOf(i);o>-1&&e.splice(o,1)}t.resolve(!1)}else{var l=e.indexOf(i);l>-1&&e.splice(l,1),t.resolve(!0)}else t.resolve(!0)}null!=r?p(i,r).then(function(e){a(function(){return!h(e,r)})},function(){a(function(){return u("ngfValidateForce",{$file:i})})}):t.resolve(!0)}var m=[a.emptyPromise(!0)];e&&(e=void 0===e.length?[e]:e,angular.forEach(e,function(e){var i=t.defer();return m.push(i.promise),!s||null!=e.type&&0===e.type.search(s)?void("dimensions"===n&&null!=a.attrGetter("ngfDimensions",r)?a.imageDimensions(e).then(function(t){g(i,e,u("ngfDimensions",{$file:e,$width:t.width,$height:t.height}))},function(){i.resolve(!1)}):"duration"===n&&null!=a.attrGetter("ngfDuration",r)?a.mediaDuration(e).then(function(t){g(i,e,u("ngfDuration",{$file:e,$duration:t}))},function(){i.resolve(!1)}):g(i,e,a.getValidationAttr(r,o,n,l,e))):void i.resolve(!0)}));var v=t.defer();return t.all(m).then(function(e){for(var t=!0,r=0;r<e.length;r++)if(!e[r]){t=!1;break}i.$ngfValidations.push({name:n,valid:t}),v.resolve(t)}),v.promise}i=i||{},i.$ngfValidations=i.$ngfValidations||[],angular.forEach(i.$ngfValidations,function(e){e.valid=!0});var u=function(e,t){return a.attrGetter(e,r,o,t)},d=(a.attrGetter("ngfIgnoreInvalid",r,o)||"").split(" "),f=a.attrGetter("ngfRunAllValidations",r,o);if(null==e||0===e.length)return a.emptyPromise({validFiles:e,invalidFiles:[]});e=void 0===e.length?[e]:e.slice(0);var c=[];l("pattern",null,a.validatePattern),l("minSize","size.min",function(e,t){return e.size+.1>=a.translateScalars(t)}),l("maxSize","size.max",function(e,t){return e.size-.1<=a.translateScalars(t)});var p=0;if(l("maxTotalSize",null,function(t,n){return p+=t.size,!(p>a.translateScalars(n))||(e.splice(0,e.length),!1)}),l("validateFn",null,function(e,t){return t===!0||null===t||""===t}),!e.length)return a.emptyPromise({validFiles:[],invalidFiles:c});var h=t.defer(),g=[];return g.push(s("maxHeight","height.max",/image/,this.imageDimensions,function(e,t){return e.height<=t})),g.push(s("minHeight","height.min",/image/,this.imageDimensions,function(e,t){return e.height>=t})),g.push(s("maxWidth","width.max",/image/,this.imageDimensions,function(e,t){return e.width<=t})),g.push(s("minWidth","width.min",/image/,this.imageDimensions,function(e,t){return e.width>=t})),g.push(s("dimensions",null,/image/,function(e,t){return a.emptyPromise(t)},function(e){return e})),g.push(s("ratio",null,/image/,this.imageDimensions,function(e,t){for(var n=t.toString().split(","),i=!1,r=0;r<n.length;r++)Math.abs(e.width/e.height-a.ratioToFloat(n[r]))<.01&&(i=!0);return i})),g.push(s("maxRatio","ratio.max",/image/,this.imageDimensions,function(e,t){return e.width/e.height-a.ratioToFloat(t)<1e-4})),g.push(s("minRatio","ratio.min",/image/,this.imageDimensions,function(e,t){return e.width/e.height-a.ratioToFloat(t)>-1e-4})),g.push(s("maxDuration","duration.max",/audio|video/,this.mediaDuration,function(e,t){return e<=a.translateScalars(t)})),g.push(s("minDuration","duration.min",/audio|video/,this.mediaDuration,function(e,t){return e>=a.translateScalars(t)})),g.push(s("duration",null,/audio|video/,function(e,t){return a.emptyPromise(t)},function(e){return e})),g.push(s("validateAsyncFn",null,null,function(e,t){return t},function(e){return e===!0||null===e||""===e})),t.all(g).then(function(){if(f)for(var t=0;t<e.length;t++){var i=e[t];i.$error&&e.splice(t--,1)}f=!1,l("maxFiles",null,function(e,t,i){return n+i<t}),h.resolve({validFiles:e,invalidFiles:c})}),h.promise},a.imageDimensions=function(e){if(e.$ngfWidth&&e.$ngfHeight){var i=t.defer();return n(function(){i.resolve({width:e.$ngfWidth,height:e.$ngfHeight})}),i.promise}if(e.$ngfDimensionPromise)return e.$ngfDimensionPromise;var r=t.defer();return n(function(){return 0!==e.type.indexOf("image")?void r.reject("not image"):void a.dataUrl(e).then(function(t){function i(){var t=l[0].naturalWidth||l[0].clientWidth,n=l[0].naturalHeight||l[0].clientHeight;l.remove(),e.$ngfWidth=t,e.$ngfHeight=n,r.resolve({width:t,height:n})}function a(){l.remove(),r.reject("load error")}function o(){n(function(){l[0].parentNode&&(l[0].clientWidth?i():s++>10?a():o())},1e3)}var l=angular.element("<img>").attr("src",t).css("visibility","hidden").css("position","fixed").css("max-width","none !important").css("max-height","none !important");l.on("load",i),l.on("error",a);var s=0;o(),angular.element(document.getElementsByTagName("body")[0]).append(l)},function(){r.reject("load error")})}),e.$ngfDimensionPromise=r.promise,e.$ngfDimensionPromise["finally"](function(){delete e.$ngfDimensionPromise}),e.$ngfDimensionPromise},a.mediaDuration=function(e){if(e.$ngfDuration){var i=t.defer();return n(function(){i.resolve(e.$ngfDuration)}),i.promise}if(e.$ngfDurationPromise)return e.$ngfDurationPromise;var r=t.defer();return n(function(){return 0!==e.type.indexOf("audio")&&0!==e.type.indexOf("video")?void r.reject("not media"):void a.dataUrl(e).then(function(t){function i(){var t=l[0].duration;e.$ngfDuration=t,l.remove(),r.resolve(t)}function a(){l.remove(),r.reject("load error")}function o(){n(function(){l[0].parentNode&&(l[0].duration?i():s>10?a():o())},1e3)}var l=angular.element(0===e.type.indexOf("audio")?"<audio>":"<video>").attr("src",t).css("visibility","none").css("position","fixed");l.on("loadedmetadata",i),l.on("error",a);var s=0;o(),angular.element(document.body).append(l)},function(){r.reject("load error")})}),e.$ngfDurationPromise=r.promise,e.$ngfDurationPromise["finally"](function(){delete e.$ngfDurationPromise}),e.$ngfDurationPromise},a}]),e.service("UploadResize",["UploadValidate","$q",function(e,t){var n=e,i=function(e,t,n,i,r){var a=r?Math.max(n/e,i/t):Math.min(n/e,i/t);return{width:e*a,height:t*a,marginX:e*a-n,marginY:t*a-i}},r=function(e,r,a,o,l,s,u,d){var f=t.defer(),c=document.createElement("canvas"),p=document.createElement("img");return p.setAttribute("style","visibility:hidden;position:fixed;z-index:-100000"),document.body.appendChild(p),p.onload=function(){var e=p.width,t=p.height;if(p.parentNode.removeChild(p),null!=d&&d(e,t)===!1)return void f.reject("resizeIf");try{if(s){var h=n.ratioToFloat(s),g=e/t;g<h?(r=e,a=r/h):(a=t,r=a*h)}r||(r=e),a||(a=t);var m=i(e,t,r,a,u);c.width=Math.min(m.width,r),c.height=Math.min(m.height,a);var v=c.getContext("2d");v.drawImage(p,Math.min(0,-m.marginX/2),Math.min(0,-m.marginY/2),m.width,m.height),f.resolve(c.toDataURL(l||"image/WebP",o||.934))}catch(b){f.reject(b)}},p.onerror=function(){p.parentNode.removeChild(p),f.reject()},p.src=e,f.promise};return n.dataUrltoBlob=function(e,t,n){for(var i=e.split(","),r=i[0].match(/:(.*?);/)[1],a=atob(i[1]),o=a.length,l=new Uint8Array(o);o--;)l[o]=a.charCodeAt(o);var s=new window.Blob([l],{type:r});return s.name=t,s.$ngfOrigSize=n,s},n.isResizeSupported=function(){var e=document.createElement("canvas");return window.atob&&e.getContext&&e.getContext("2d")&&window.Blob},n.isResizeSupported()&&Object.defineProperty(window.Blob.prototype,"name",{get:function(){return this.$ngfName},set:function(e){this.$ngfName=e},configurable:!0}),n.resize=function(e,i){if(0!==e.type.indexOf("image"))return n.emptyPromise(e);var a=t.defer();return n.dataUrl(e,!0).then(function(t){r(t,i.width,i.height,i.quality,i.type||e.type,i.ratio,i.centerCrop,i.resizeIf).then(function(r){if("image/jpeg"===e.type&&i.restoreExif!==!1)try{r=n.restoreExif(t,r)}catch(o){setTimeout(function(){throw o},1)}try{var l=n.dataUrltoBlob(r,e.name,e.size);a.resolve(l)}catch(o){a.reject(o)}},function(t){"resizeIf"===t&&a.resolve(e),a.reject(t)})},function(e){a.reject(e)}),a.promise},n}]),function(){function t(e,t,i,r,a,o,l,s,u,d){function f(){return t.attr("disabled")||b("ngfDropDisabled",e)}function c(t,n,i){if(t){var r;try{r=t&&t.getData&&t.getData("text/html")}catch(a){}m(t.items,t.files,b("ngfAllowDir",e)!==!1,b("multiple")||b("ngfMultiple",e)).then(function(e){e.length?p(e,n):h(i,r).then(function(e){p(e,n)})})}}function p(t,n){s.updateModel(r,i,e,b("ngfChange")||b("ngfDrop"),t,n)}function h(t,n){if(!s.shouldUpdateOn(t,i,e)||"string"!=typeof n)return s.rejectPromise([]);var r=[];n.replace(/<(img src|img [^>]* src) *=\"([^\"]*)\"/gi,function(e,t,n){r.push(n)});var a=[],o=[];if(r.length){angular.forEach(r,function(e){a.push(s.urlToBlob(e).then(function(e){o.push(e)}))});var l=d.defer();return d.all(a).then(function(){l.resolve(o)},function(e){l.reject(e)}),l.promise}return s.emptyPromise()}function g(e,t,n,i){var r=b("ngfDragOverClass",e,{$event:n}),a="dragover";if(angular.isString(r))a=r;else if(r&&(r.delay&&(w=r.delay),r.accept||r.reject)){var o=n.dataTransfer.items;if(null!=o&&o.length)for(var l=r.pattern||b("ngfPattern",e,{$event:n}),u=o.length;u--;){if(!s.validatePattern(o[u],l)){a=r.reject;break}a=r.accept}else a=r.accept}i(a)}function m(t,n,r,a){function o(e,t){var n=d.defer();if(null!=e)if(e.isDirectory){var i=[s.emptyPromise()];if(c){var r={type:"directory"};r.name=r.path=(t||"")+e.name,p.push(r)}var a=e.createReader(),l=[],g=function(){a.readEntries(function(r){try{r.length?(l=l.concat(Array.prototype.slice.call(r||[],0)),g()):(angular.forEach(l.slice(0),function(n){p.length<=u&&h<=f&&i.push(o(n,(t?t:"")+e.name+"/"))}),d.all(i).then(function(){n.resolve()},function(e){n.reject(e)}))}catch(a){n.reject(a)}},function(e){n.reject(e)})};g()}else e.file(function(e){try{e.path=(t?t:"")+e.name,c&&(e=s.rename(e,e.path)),p.push(e),h+=e.size,n.resolve()}catch(i){n.reject(i)}},function(e){n.reject(e)});return n.promise}var u=s.getValidationAttr(i,e,"maxFiles");null==u&&(u=Number.MAX_VALUE);var f=s.getValidationAttr(i,e,"maxTotalSize");null==f&&(f=Number.MAX_VALUE);var c=b("ngfIncludeDir",e),p=[],h=0,g=[s.emptyPromise()];if(t&&t.length>0&&"file:"!==l.location.protocol)for(var m=0;m<t.length;m++){if(t[m].webkitGetAsEntry&&t[m].webkitGetAsEntry()&&t[m].webkitGetAsEntry().isDirectory){var v=t[m].webkitGetAsEntry();if(v.isDirectory&&!r)continue;null!=v&&g.push(o(v))}else{var y=t[m].getAsFile();null!=y&&(p.push(y),h+=y.size)}if(p.length>u||h>f||!a&&p.length>0)break}else if(null!=n)for(var x=0;x<n.length;x++){var _=n.item(x);if((_.type||_.size>0)&&(p.push(_),h+=_.size),p.length>u||h>f||!a&&p.length>0)break}var w=d.defer();return d.all(g).then(function(){if(a||c||!p.length)w.resolve(p);else{for(var e=0;p[e]&&"directory"===p[e].type;)e++;w.resolve([p[e]])}},function(e){w.reject(e)}),w.promise}var v=n(),b=function(e,t,n){return s.attrGetter(e,i,t,n)};if(b("dropAvailable")&&o(function(){e[b("dropAvailable")]?e[b("dropAvailable")].value=v:e[b("dropAvailable")]=v}),!v)return void(b("ngfHideOnDropNotAvailable",e)===!0&&t.css("display","none"));null==b("ngfSelect")&&s.registerModelChangeValidator(r,i,e);var y,x=null,_=a(b("ngfStopPropagation")),w=1;t[0].addEventListener("dragover",function(n){if(!f()&&s.shouldUpdateOn("drop",i,e)){if(n.preventDefault(),_(e)&&n.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var r=n.dataTransfer.effectAllowed;n.dataTransfer.dropEffect="move"===r||"linkMove"===r?"move":"copy"}o.cancel(x),y||(y="C",g(e,i,n,function(i){y=i,t.addClass(y),b("ngfDrag",e,{$isDragging:!0,$class:y,$event:n})}))}},!1),t[0].addEventListener("dragenter",function(t){!f()&&s.shouldUpdateOn("drop",i,e)&&(t.preventDefault(),_(e)&&t.stopPropagation())},!1),t[0].addEventListener("dragleave",function(n){!f()&&s.shouldUpdateOn("drop",i,e)&&(n.preventDefault(),_(e)&&n.stopPropagation(),x=o(function(){y&&t.removeClass(y),y=null,b("ngfDrag",e,{$isDragging:!1,$event:n});
},w||100))},!1),t[0].addEventListener("drop",function(n){!f()&&s.shouldUpdateOn("drop",i,e)&&(n.preventDefault(),_(e)&&n.stopPropagation(),y&&t.removeClass(y),y=null,c(n.dataTransfer,n,"dropUrl"))},!1),t[0].addEventListener("paste",function(t){navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&b("ngfEnableFirefoxPaste",e)&&t.preventDefault(),!f()&&s.shouldUpdateOn("paste",i,e)&&c(t.clipboardData||t.originalEvent.clipboardData,t,"pasteUrl")},!1),navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&b("ngfEnableFirefoxPaste",e)&&(t.attr("contenteditable",!0),t.on("keypress",function(e){e.metaKey||e.ctrlKey||e.preventDefault()}))}function n(){var e=document.createElement("div");return"draggable"in e&&"ondrop"in e&&!/Edge\/12./i.test(navigator.userAgent)}e.directive("ngfDrop",["$parse","$timeout","$window","Upload","$http","$q",function(e,n,i,r,a,o){return{restrict:"AEC",require:"?ngModel",link:function(l,s,u,d){t(l,s,u,d,e,n,i,r,a,o)}}}]),e.directive("ngfNoFileDrop",function(){return function(e,t){n()&&t.css("display","none")}}),e.directive("ngfDropAvailable",["$parse","$timeout","Upload",function(e,t,i){return function(r,a,o){if(n()){var l=e(i.attrGetter("ngfDropAvailable",o));t(function(){l(r),l.assign&&l.assign(r,!0)})}}}])}(),e.service("UploadExif",["UploadResize","$q",function(e,t){function n(e,t,n,i){switch(t){case 2:return e.transform(-1,0,0,1,n,0);case 3:return e.transform(-1,0,0,-1,n,i);case 4:return e.transform(1,0,0,-1,0,i);case 5:return e.transform(0,1,1,0,0,0);case 6:return e.transform(0,1,-1,0,i,0);case 7:return e.transform(0,-1,-1,0,i,n);case 8:return e.transform(0,-1,1,0,0,n)}}function i(e){for(var t="",n=new Uint8Array(e),i=n.byteLength,r=0;r<i;r++)t+=String.fromCharCode(n[r]);return window.btoa(t)}var r=e;return r.isExifSupported=function(){return window.FileReader&&(new FileReader).readAsArrayBuffer&&r.isResizeSupported()},r.readOrientation=function(e){var n=t.defer(),i=new FileReader,r=e.slice?e.slice(0,65536):e;return i.readAsArrayBuffer(r),i.onerror=function(e){return n.reject(e)},i.onload=function(e){var t={orientation:1},i=new DataView(this.result);if(65496!==i.getUint16(0,!1))return n.resolve(t);for(var r=i.byteLength,a=2;a<r;){var o=i.getUint16(a,!1);if(a+=2,65505===o){if(1165519206!==i.getUint32(a+=2,!1))return n.resolve(t);var l=18761===i.getUint16(a+=6,!1);a+=i.getUint32(a+4,l);var s=i.getUint16(a,l);a+=2;for(var u=0;u<s;u++)if(274===i.getUint16(a+12*u,l)){var d=i.getUint16(a+12*u+8,l);return d>=2&&d<=8&&(i.setUint16(a+12*u+8,1,l),t.fixedArrayBuffer=e.target.result),t.orientation=d,n.resolve(t)}}else{if(65280!==(65280&o))break;a+=i.getUint16(a,!1)}}return n.resolve(t)},n.promise},r.applyExifRotation=function(e){if(0!==e.type.indexOf("image/jpeg"))return r.emptyPromise(e);var a=t.defer();return r.readOrientation(e).then(function(t){return t.orientation<2||t.orientation>8?a.resolve(e):void r.dataUrl(e,!0).then(function(o){var l=document.createElement("canvas"),s=document.createElement("img");s.onload=function(){try{l.width=t.orientation>4?s.height:s.width,l.height=t.orientation>4?s.width:s.height;var o=l.getContext("2d");n(o,t.orientation,s.width,s.height),o.drawImage(s,0,0);var u=l.toDataURL(e.type||"image/WebP",.934);u=r.restoreExif(i(t.fixedArrayBuffer),u);var d=r.dataUrltoBlob(u,e.name);a.resolve(d)}catch(f){return a.reject(f)}},s.onerror=function(){a.reject()},s.src=o},function(e){a.reject(e)})},function(e){a.reject(e)}),a.promise},r.restoreExif=function(e,t){var n={};return n.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n.encode64=function(e){var t,n,i,r,a,o="",l="",s="",u=0;do t=e[u++],n=e[u++],l=e[u++],i=t>>2,r=(3&t)<<4|n>>4,a=(15&n)<<2|l>>6,s=63&l,isNaN(n)?a=s=64:isNaN(l)&&(s=64),o=o+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(s),t=n=l="",i=r=a=s="";while(u<e.length);return o},n.restore=function(e,t){e.match("data:image/jpeg;base64,")&&(e=e.replace("data:image/jpeg;base64,",""));var n=this.decode64(e),i=this.slice2Segments(n),r=this.exifManipulation(t,i);return"data:image/jpeg;base64,"+this.encode64(r)},n.exifManipulation=function(e,t){var n=this.getExifArray(t),i=this.insertExif(e,n);return new Uint8Array(i)},n.getExifArray=function(e){for(var t,n=0;n<e.length;n++)if(t=e[n],255===t[0]&225===t[1])return t;return[]},n.insertExif=function(e,t){var n=e.replace("data:image/jpeg;base64,",""),i=this.decode64(n),r=i.indexOf(255,3),a=i.slice(0,r),o=i.slice(r),l=a;return l=l.concat(t),l=l.concat(o)},n.slice2Segments=function(e){for(var t=0,n=[];;){if(255===e[t]&218===e[t+1])break;if(255===e[t]&216===e[t+1])t+=2;else{var i=256*e[t+2]+e[t+3],r=t+i+2,a=e.slice(t,r);n.push(a),t=r}if(t>e.length)break}return n},n.decode64=function(e){var t,n,i,r,a,o="",l="",s=0,u=[],d=/[^A-Za-z0-9\+\/\=]/g;d.exec(e)&&console.log("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, NaNExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do i=this.KEY_STR.indexOf(e.charAt(s++)),r=this.KEY_STR.indexOf(e.charAt(s++)),a=this.KEY_STR.indexOf(e.charAt(s++)),l=this.KEY_STR.indexOf(e.charAt(s++)),t=i<<2|r>>4,n=(15&r)<<4|a>>2,o=(3&a)<<6|l,u.push(t),64!==a&&u.push(n),64!==l&&u.push(o),t=n=o="",i=r=a=l="";while(s<e.length);return u},n.restore(e,t)},r}])}).call(exports,t(25))},746:function(e,exports,t){t(745),e.exports="ngFileUpload"},782:function(e,exports){e.exports='<section class="intro-content">\n  <h1 translate=\'{{vm.$state.current.name}}\'></h1>\n\n  <p>{{\'UploadDesc\' | translate}}</p>\n</section>\n\n<section class="intro-content">\n  <h2>{{\'Install\' | translate}}</h2>\n\n</section>\n\n<div class="example-block">\n  <div class="highlight" hljs hljs-language="bash">\n    npm install fancyui --save\n  </div>\n</div>\n\n<section class="intro-content">\n  <h2>{{\'Inject_Module\' | translate}}</h2>\n\n</section>\n\n<div class="example-block">\n  <div class="highlight no-border" hljs hljs-language="javascript">\n    import {FUpload} from \'fancyui\';\n\n    export default angular.module(\'switchDemo\', [\n    FUpload.name\n    ])\n  </div>\n</div>\n\n<!--示例-->\n<h2>{{\'Example\'|translate}}</h2>\n<div class="example-block">\n  <div class="bs-example pop-confirm-example">\n    <f-upload action="/action.do"\n              accept="vm.accept"\n              default-file-list="vm.defaultFileList"\n              on-remove="vm.onRemove"\n              file-list="vm.fileList1">\n      <span class="btn btn-default">\n        <span class="glyphicon glyphicon-upload"></span>\n        Upload\n      </span>\n    </f-upload>\n  </div>\n  <div class="bs-example pop-confirm-example">\n    <f-upload action="/action.do"\n              accept="vm.accept"\n              list-type="picture"\n              default-file-list="vm.defaultFileList"\n              file-list="vm.fileList2">\n      <span class="btn btn-default">\n        <span class="glyphicon glyphicon-upload"></span>\n        Upload\n      </span>\n    </f-upload>\n  </div>\n  <div class="bs-example pop-confirm-example">\n    <f-dragger action="/action.do"\n               default-file-list="vm.defaultFileList"\n               file-list="vm.fileList3">\n      <div\n        style="width: 150px;height: 150px;vertical-align: middle;font-size: 28px;color: #999;line-height: 150px;font-weight: lighter">\n        drop\n      </div>\n    </f-dragger>\n    <f-dragger action="/action.do"\n               list-type="picture"\n               default-file-list="vm.defaultFileList"\n               file-list="vm.fileList4">\n      <div\n        style="width: 150px;height: 150px;vertical-align: middle;font-size: 28px;color: #999;line-height: 150px;font-weight: lighter">\n        drop\n      </div>\n    </f-dragger>\n  </div>\n</div>\n\n<!--基础用法-->\n<h2>{{\'Basic_Usage\'|translate}}</h2>\n<h3>View</h3>\n<div class="example-block">\n  <div class="highlight no-border" hljs hljs-language="html">\n    <f-upload action="/action.do"\n                         accept="vm.accept"\n                         default-file-list="vm.defaultFileList"\n                         file-list="vm.fileList">\n      <span class="btn btn-default">\n        <span class="glyphicon glyphicon-upload"></span>\n        upload\n      </span>\n  </f-upload>\n\n    <f-dragger action="/action.do"\n               file-list="vm.fileList">\n      <div\n        style="width: 150px;height: 150px;vertical-align: middle;font-size: 28px;color: #999;line-height: 150px;font-weight: lighter">\n        drop\n      </div>\n    </f-dragger>\n  </div>\n</div>\n\n<h3>controller</h3>\n\n<div class="example-block">\n  <div class="highlight no-border" hljs hljs-language="javascript">\n    this.accept = {\n    size: {min: 10, max: \'20MB\'},\n    width: {min: 1000, max: 10000},\n    height: {min: 100, max: 300},\n    pattern: \'image/*\'\n    };\n\n    this.defaultFileList = [{\n    url: \'http://www.fancyui.org/img-a04b6a41f26906e5c8732586d2d1261b.png\',\n    name: \'test.png\'\n    }];\n\n    this.fileList = [];\n  </div>\n</div>\n\n\n<section class="intro-content">\n  <h2>{{\'Options\'|translate}}</h2>\n\n  <h3>f-upload & f-dragger props</h3>\n  <table class="demo-table">\n    <thead>\n    <tr>\n      <th>{{\'Param\'|translate}}</th>\n      <th>{{\'Description\'|translate}}</th>\n      <th>{{\'Type\'|translate}}</th>\n      <th>{{\'DefaultValue\'|translate}}</th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr>\n      <td>name</td>\n      <td>{{\'UploadApiDecName\'|translate}}</td>\n      <td>String</td>\n      <td>\'file\'</td>\n    </tr>\n    <tr>\n      <td>defaultFileList</td>\n      <td>{{\'UploadApiDecDefaultFileList\'|translate}}</td>\n      <td>Array[object]</td>\n      <td>[]</td>\n    </tr>\n    <tr>\n      <td>fileList</td>\n      <td>{{\'UploadApiDecFileList\'|translate}}</td>\n      <td>Array[object]</td>\n      <td></td>\n    </tr>\n    <tr>\n      <td>action</td>\n      <td>{{\'UploadApiDecAction\'|translate}}</td>\n      <td>String</td>\n      <td></td>\n    </tr>\n    <tr>\n      <td>data</td>\n      <td>{{\'UploadApiDecData\'|translate}}</td>\n      <td>Object or function(file)</td>\n      <td></td>\n    </tr>\n    <tr>\n      <td>headers</td>\n      <td>{{\'UploadApiDecHeaders\'|translate}}</td>\n      <td>Object</td>\n      <td>none</td>\n    </tr>\n    <tr>\n      <td>multiple</td>\n      <td>{{\'UploadApiDecMultiple\'|translate}}</td>\n      <td>Boolean</td>\n      <td>false</td>\n    </tr>\n    <tr>\n      <td>accept</td>\n      <td>{{\'UploadApiDecAccept\'|translate}}</td>\n      <td>Object</td>\n      <td>none</td>\n    </tr>\n    <tr>\n      <td>beforeUpload</td>\n      <td>{{\'UploadApiDecBeforeUpload\'|translate}}</td>\n      <td>(file, fileList) => boolean</td>\n      <td>none</td>\n    </tr>\n    <tr>\n      <td>customRequest</td>\n      <td>{{\'UploadApiDecCustomRequest\'|translate}}</td>\n      <td>Function</td>\n      <td>none</td>\n    </tr>\n    <!--<tr>\n      <td>onChange</td>\n      <td>{{\'UploadApiDecOnChange\'|translate}}</td>\n      <td>Function</td>\n      <td>none</td>\n    </tr>-->\n    <tr>\n      <td>listType</td>\n      <td>{{\'UploadApiDecListType\'|translate}}</td>\n      <td>String</td>\n      <td>\'text\'</td>\n    </tr>\n    <tr>\n      <td>onRemove</td>\n      <td>{{\'UploadApiDecOnRemove\'|translate}}</td>\n      <td>Function(file)</td>\n      <td>none</td>\n    </tr>\n    <tr>\n      <td>disabled</td>\n      <td>{{\'UploadApiDecDisabled\'|translate}}</td>\n      <td>Boolean</td>\n      <td>false</td>\n    </tr>\n    <tr>\n      <td>withCredentials</td>\n      <td>{{\'UploadApiDecWithCredentials\'|translate}}</td>\n      <td>Boolean</td>\n      <td>false</td>\n    </tr>\n    </tbody>\n  </table>\n</section>\n'},800:function(e,exports){e.exports='<span class="f-dragger"\n      ngf-select=""\n      ngf-drop=""\n      ng-disabled="vm.disabled"\n      ngf-change="vm.onChange($files, $file, $newFiles, $duplicateFiles, $invalidFiles, $event)"\n      ngf-validate="vm.accept"\n      ngf-multiple="vm.multiple"\n      ng-transclude>\n</span>\n<div class="f-upload-list f-upload-list-{{vm.listType}}" ng-if="vm.fileList.length">\n  <div ng-repeat="file in vm.fileList" class="f-upload-list-item f-upload-list-item-done">\n    <div class="f-upload-list-item-info" ng-if="vm.listType == \'picture\'">\n      <a class="f-upload-list-item-thumbnail"\n         ng-href="{{file.url}}"\n         target="_blank"\n         rel="noopener noreferrer">\n        <img ng-src="{{file.url}}" alt="{{file.name}}">\n      </a>\n      <a ng-href="{{file.url}}"\n         target="_blank"\n         rel="noopener noreferrer"\n         class="f-upload-list-item-name">{{file.name}}\n      </a>\n      <span title="Remove file"\n            ng-click="vm.onRemove(file)"\n            class="glyphicon glyphicon-remove-circle"></span>\n    </div>\n    <div class="f-upload-list-item-info" ng-if="vm.listType == \'text\'">\n      <span class="glyphicon glyphicon-paperclip"></span>\n      <a ng-href="{{file.url}}" target="_blank" rel="noopener noreferrer" class="f-upload-list-item-name">{{file.name}}</a>\n      <span title="Remove file"\n            ng-click="vm.onRemove(file)"\n            class="glyphicon glyphicon-remove-circle"></span>\n    </div>\n  </div>\n</div>\n\n'},801:function(e,exports){e.exports='<span class="f-upload"\n      ngf-select=""\n      ngf-multiple="vm.multiple"\n      ng-disabled="vm.disabled"\n      ngf-change="vm.onChange($files, $file, $newFiles, $duplicateFiles, $invalidFiles, $event)"\n      ngf-validate="vm.accept"\n      ng-transclude>\n</span>\n<div class="f-upload-list f-upload-list-{{vm.listType}}" ng-if="vm.fileList.length">\n  <div ng-repeat="file in vm.fileList" class="f-upload-list-item f-upload-list-item-done">\n    <div class="f-upload-list-item-info" ng-if="vm.listType == \'picture\'">\n      <a class="f-upload-list-item-thumbnail"\n         ng-href="{{file.url}}"\n         target="_blank"\n         rel="noopener noreferrer">\n        <img ng-src="{{file.url}}" alt="{{file.name}}">\n      </a>\n      <a ng-href="{{file.url}}"\n         target="_blank"\n         rel="noopener noreferrer"\n         class="f-upload-list-item-name">{{file.name}}\n      </a>\n      <span title="Remove file"\n            ng-click="vm.onRemove(file)"\n            class="glyphicon glyphicon-remove-circle"></span>\n    </div>\n    <div class="f-upload-list-item-info" ng-if="vm.listType == \'text\'">\n      <span class="glyphicon glyphicon-paperclip"></span>\n      <a ng-href="{{file.url}}" target="_blank" rel="noopener noreferrer" class="f-upload-list-item-name">{{file.name}}</a>\n      <span title="Remove file"\n            ng-click="vm.onRemove(file)"\n            class="glyphicon glyphicon-remove-circle"></span>\n    </div>\n  </div>\n</div>\n\n'},838:function(e,exports,t){var n=t(512);"string"==typeof n&&(n=[[e.i,n,""]]);t(2)(n,{});n.locals&&(e.exports=n.locals)},856:function(e,exports,t){var n=t(530);"string"==typeof n&&(n=[[e.i,n,""]]);t(2)(n,{});n.locals&&(e.exports=n.locals)}});